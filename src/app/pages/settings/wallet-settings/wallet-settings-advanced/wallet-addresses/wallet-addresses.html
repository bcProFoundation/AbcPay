<wide-header-page title="{{'Account Addresses' | translate}}">
  <div page-content>
    <div class="explanation">
      <span translate>
        Each bitcoin wallet can generate billions of addresses from your 12-word recovery phrase. A new address is automatically generated and shown each time you receive a payment.
      </span>

      <div class="explanation-sub">
        <br>
        <span translate>
          It's a good idea to avoid reusing addresses - this both protects your privacy and keeps your bitcoins secure against hypothetical attacks by quantum computers.
        </span>
      </div>
    </div>

    <ion-item lines="none" button class="scan-item" (click)="scan()">
      <ion-label translate>Scan addresses for funds</ion-label>
    </ion-item>

    <div class="loading" *ngIf="loading">
      <ion-spinner color="primary" icon="crescent"></ion-spinner>
      <span translate>Loading addresses...</span>
    </div>

    <ion-list *ngIf="!loading" class="settings-list bp-list">
      <div *ngIf="allUtxosNb">
        <ion-item-divider class="item-end">
          <ion-label>
            {{'Wallet Inputs' | translate}}
          </ion-label>
        </ion-item-divider>

        <ion-item class="item-wallet-input">
          <ion-label>
            <h3 translate>Total wallet inputs</h3>
            <p class="info">{{allUtxosNb}} [{{allUtxosSum}}]</p>
          </ion-label>
        </ion-item>

        <ion-item class="item-wallet-input">
          <ion-label>
            <h3 translate> Low amount inputs </h3>
            <p class="info">{{lowUtxosNb}} [{{ lowUtxosSum }}]</p>
          </ion-label>
        </ion-item>

        <ion-item class="item-wallet-input">
          <ion-label>
            <h3 translate>Approximate Bitcoin network fee to transfer wallet's balance (with normal priority)</h3>
            <p class="info">{{minFeePer}} [{{minFee}}]</p>
          </ion-label>
        </ion-item>
      </div>

      <div *ngIf="latestWithBalance && latestWithBalance[0]">
        <ion-item-divider class="item-end">
          <ion-label>
            {{'Addresses with balance' | translate}}
          </ion-label>
        </ion-item-divider>
        <ion-item *ngFor="let w of latestWithBalance" copy-to-clipboard="{{w.address}}">
          <ion-label>
            <h4>{{w.address}}</h4>
            <p class="info">{{w.amount | satToUnit: wallet.coin}}</p>
          </ion-label>
        </ion-item>
      </div>

      <div *ngIf="latestUnused && latestUnused[0]">
        <ion-item-divider class="item-end">
          <ion-label>
            {{'Unused addresses' | translate}}
          </ion-label>
        </ion-item-divider>
        <ion-item *ngFor="let u of latestUnused" copy-to-clipboard="{{u.address}}">
          <ion-label>
            <h4>{{u.address}}</h4>
            <p>{{u.path}} {{u.createdOn * 1000 | amDateFormat:'MMMM Do YYYY, hh:mm a'}}</p>
          </ion-label>
        </ion-item>
      </div>
    </ion-list>
  </div>
</wide-header-page>