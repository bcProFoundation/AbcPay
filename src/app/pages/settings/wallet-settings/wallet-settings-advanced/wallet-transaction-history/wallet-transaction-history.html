<wide-header-page title="{{'Transaction History' | translate}}">
  <div page-content>
    <ion-list class="settings-list bp-list">
      <ion-item class="item-end" *ngIf="!isCordova" (click)="downloadCSV()" [disabled]="!csvReady">
        <ion-label class="label-export">
          <span *ngIf="csvReady" translate>Export to file</span>
          <span *ngIf="!csvReady && !err">
            {{'preparing...' | translate}}
          </span>
          <span class="label-clear-cache" *ngIf="!csvReady && err">
            {{err}}
          </span>
        </ion-label>
      </ion-item>

      <div class="explanation" translate>
        The transaction history and every new incoming transaction are cached in the app. Clearing the cache cleans up the transaction history and synchronizes again from the server.
      </div>
      <ion-item class="item-start" (click)="clearTransactionHistory()">
        <ion-label class="label-clear-cache" translate>Clear cache</ion-label>
      </ion-item>
    </ion-list>
  </div>
</wide-header-page>